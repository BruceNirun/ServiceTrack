@inherits LayoutComponentBase

<MudThemeProvider Theme="_theme" />
<MudDialogProvider />
<MudSnackbarProvider />
<MudPopoverProvider />

<MudLayout>
    <MudAppBar Elevation="1">
        <MudIconButton Icon="@Icons.Material.Filled.Menu" Color="Color.Inherit" Edge="Edge.Start" OnClick="@DrawerToggle" />
        <MudText Typo="Typo.h5" Class="ml-3">ServiceTrack</MudText>
        <MudSpacer />
        
        <MudTooltip Text="การแจ้งเตือน">
            <MudIconButton Icon="@Icons.Material.Outlined.Notifications" Color="Color.Inherit" />
        </MudTooltip>
        
        <MudTooltip Text="โปรไฟล์ผู้ใช้">
            <MudIconButton Icon="@Icons.Material.Outlined.Person" Color="Color.Inherit" />
        </MudTooltip>
    </MudAppBar>

    <MudDrawer @bind-Open="_drawerOpen" ClipMode="DrawerClipMode.Always" Elevation="2">
        <MudDrawerHeader>
            <MudText Typo="Typo.h6">My App</MudText>
        </MudDrawerHeader>
        <NavMenu />
    </MudDrawer>

    @* แก้ไขตรงนี้: เอา MudContainer และ Class ออก *@
    <MudMainContent>
        @Body
    </MudMainContent>
</MudLayout>

@code {
    private bool _drawerOpen = true;

    private void DrawerToggle()
    {
        _drawerOpen = !_drawerOpen;
    }

    private MudTheme _theme = new MudTheme()
    {
        PaletteLight = new PaletteLight()
        {
            Primary = "#594AE2",
            PrimaryContrastText = Colors.Shades.White, 
            Secondary = "#00C853",
            Background = "#F4F7FC",
            AppbarBackground = "#594AE2",
            DrawerBackground = "#FFFFFF",
            DrawerText = Colors.Gray.Darken3, 
            DrawerIcon = Colors.Gray.Darken2,
            Surface = "#FFFFFF"
        },
        LayoutProperties = new LayoutProperties()
        {
            DefaultBorderRadius = "12px"
        }
    };
}