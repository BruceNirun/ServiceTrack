@inherits LayoutComponentBase

<MudThemeProvider Theme="_theme" />
<MudDialogProvider />
<MudSnackbarProvider />
<MudPopoverProvider />

<MudLayout>
    @* 1. ใช้ MudAppBar ที่มี Fixed="true" ซึ่งจะจัดการ Layout ให้ถูกต้อง *@
    <MudAppBar Elevation="1" Color="Color.Surface" Fixed="true">
        @* แถบเครื่องมือบน (Top Toolbar) *@
        <MudToolBar Class="px-4">
            <MudAvatar Color="Color.Primary" Rounded="true">
                <MudIcon Icon="@Icons.Material.Filled.Settings" />
            </MudAvatar>
            <div class="ml-3">
                <MudText Typo="Typo.h6" Style="line-height: 1.2;">ระบบแจ้งซ่อมองค์กร</MudText>
                <MudText Typo="Typo.body2" Style="line-height: 1;">Organizational Repair Request System</MudText>
            </div>
            <MudSpacer />
        </MudToolBar>
        
    </MudAppBar>

    @* 2. ส่วนของ Body จะถูกดันลงมาโดยอัตโนมัติ *@
    <MudMainContent>
        @Body
    </MudMainContent>
</MudLayout>

@code {
    // 3. Theme ยังคงอยู่ที่นี่
    private MudTheme _theme = new MudTheme()
    {
        PaletteLight = new PaletteLight()
        {
            Primary = "#2962FF",
            PrimaryContrastText = Colors.Shades.White, 
            Secondary = "#00C853",
            Background = "#F4F7FC",
            AppbarBackground = "#FFFFFF",
            AppbarText = Colors.Gray.Darken3,
            Surface = "#FFFFFF",
            Divider = Colors.Gray.Lighten4
        },
        LayoutProperties = new LayoutProperties()
        {
            DefaultBorderRadius = "8px"
        }
    };
}
